var ln=Object.defineProperty;var sn=(e,t)=>{for(var o in t)ln(e,o,{get:t[o],enumerable:!0})};import{createMuiTheme as ci,ThemeProvider as di}from"@material-ui/core/styles";import wt from"deepmerge";import V,{useMemo as dr}from"react";import{DndProvider as pi}from"react-dnd";import{HTML5Backend as mi}from"react-dnd-html5-backend";import{IntlProvider as ui}from"react-intl";import{ThemeProvider as fi}from"react-jss";import{Provider as yi}from"react-redux";import gi from"shortid";import{useCallback as Dn,useEffect as Ko}from"react";import{useDispatch as Vo,useSelector as kn}from"react-redux";import{configureStore as In}from"@reduxjs/toolkit";import{useEffect as Ut,useRef as qt,useState as an}from"react";var Yt=(e,t)=>{let[o,r]=an(e);return Ut(()=>{let n=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(n)}},[e,t]),[o,r]},jt={},Pe=e=>{let t=qt(jt);return t.current===jt&&(t.current=e()),t.current},_=e=>{let t=qt(e);return Ut(()=>{t.current=e},[t,e]),t};import{createSlice as hn}from"@reduxjs/toolkit";var M=class{static error(...t){console.error("[Chonky runtime error]",...t)}static warn(...t){console.warn("[Chonky runtime warning]",...t)}static debug(...t){console.debug("[Chonky runtime debug]",...t)}static formatBullets(t){return`
- ${t.join(`
- `)}`}};var b=class{static isDirectory(t){return!!t&&t.isDir===!0}static isHidden(t){return!!t&&t.isHidden===!0}static isSymlink(t){return!!t&&t.isSymlink===!0}static isEncrypted(t){return!!t&&t.isEncrypted===!0}static isClickable(t){return!!t}static isOpenable(t){return!!t&&t.openable!==!1}static isSelectable(t){return!!t&&t.selectable!==!1}static isDraggable(t){return!!t&&t.draggable!==!1}static isDroppable(t){return t?t.isDir&&t.droppable!==!1?!0:t.droppable===!0:!1}static isDndOpenable(t){return b.isOpenable(t)?t.isDir&&t.dndOpenable!==!1?!0:t.dndOpenable===!0:!1}static getModDate(t){return!t||t.modDate===null||t.modDate===void 0?null:b.parseDate(t.modDate)}static parseDate(t){if(typeof t=="string"||typeof t=="number")try{return new Date(t)}catch(o){M.error(`Could not convert provided string/number into a date: ${o.message} `,"Invalid value:",t)}return t instanceof Date&&!isNaN(t.getTime())?t:(M.warn("Unsupported date representation:",t),null)}static getChildrenCount(t){return!t||typeof t.childrenCount!="number"?null:t.childrenCount}};var Ce=(e,t)=>{let o=[],r=[];if(!((e==="folderChain"||e==="fileActions")&&!t))if(!Array.isArray(t))r.push(`Expected "${e}" prop to be an array, got "${typeof t}" instead.`);else{let n=0,i=0,l=new Set,s=new Set;for(let a=0;a<t.length;++a){let c=t[a];c?typeof c!="object"?n++:!c.id||e!=="fileActions"&&!c.name?i++:l.has(c.id)?s.add(c.id):(l.add(c.id),o.push(c)):e==="fileActions"?n++:o.push(null)}if(n&&r.push(`Detected ${n} file(s) of invalid type. Remember that "files" array should contain either objects or nulls.`),i&&r.push(`Detected ${i} file(s) that are missing the required fields. Remember that file object should define an "id" and a "name".`),s.size>0){let a='"'+Array.from(s).join('", "')+'"';r.push(`Detected ${s.size} file IDs that are used multiple times. Remember that each file should have a unique IDs. The following IDs were seen multiple times: ${a}`)}}if(r.length>0){let n=`
- `+r.join(`
- `),i,l;e==="folderChain"?(i="folder chain",l="files"):e==="fileActions"?(i="file actions",l="file actions"):(i="files",l="files"),M.error(`Errors were detected when sanitizing the ${i} array. Offending ${l} were removed from the array. Summary of validation errors: ${n}`)}return{sanitizedArray:o,errorMessages:r}};import cn from"fast-sort";import dn from"fuzzy-search";import{createSelector as U}from"@reduxjs/toolkit";var j={ShowHiddenFiles:"show_hidden_files",ShowFoldersFirst:"show_folders_first",DarkMode:"dark_mode"};var Ne=e=>e.instanceId,Xt=e=>e.externalFileActionHandler,Le=e=>e.fileActionMap,Zt=e=>e.fileActionIds,q=e=>t=>Le(t)[e],Qt=e=>e.toolbarItems,Jt=e=>e.contextMenuItems,le=e=>e.folderChain,xe=e=>{let t=le(e);return t.length>0?t[t.length-1]:null},Oe=e=>{let t=le(e);return t.length>1?t[t.length-2]:null},As=e=>e.rawFiles,se=e=>e.fileMap,eo=e=>e.cleanFileIds,to=e=>t=>e?se(t)[e]:null,ut=e=>e.hiddenFileIdMap,oo=e=>Object.keys(ut(e)).length,ro=e=>e.focusSearchInput,no=e=>e.searchString,W=e=>e.selectionMap,ft=e=>Object.keys(W(e)),ze=e=>ft(e).length,io=e=>t=>!!e&&!!W(t)[e],Re=e=>{let t=se(e);return Object.keys(W(e)).map(o=>t[o])},pn=e=>t=>{let{fileActionMap:o}=t,r=o[e];if(!(!r||!r.requiresSelection))return yn(t,r.fileFilter)},lo=e=>t=>{var o;return(o=gn(t,e))==null?void 0:o.length},so=e=>e.disableSelection,Q=e=>e.fileViewConfig,ao=e=>e.sortActionId,co=e=>e.sortOrder,mn=e=>e.optionMap,po=e=>t=>mn(t)[e],mo=e=>e.thumbnailGenerator,uo=e=>e.doubleClickDelay,He=e=>e.disableDragAndDrop,fo=e=>e.clearSelectionOnOutsideClick,yo=e=>e.contextMenuMounted,yt=e=>e.contextMenuConfig,go=e=>{let t=yt(e);return!t||!t.triggerFileId?null:se(e)[t.triggerFileId]??null},bo=e=>e.fileActionMap,Fo=e=>e.optionMap,ho=e=>e.fileMap,pt=e=>e.fileIds,Be=e=>e.cleanFileIds,So=e=>e.sortActionId,Co=e=>e.sortOrder,xo=e=>e.searchString,Do=e=>e.lastClick,ko=e=>U([bo,e],(t,o)=>o&&t[o]?t[o]:null),gt=(e,t=void 0)=>U([Fo],o=>{let r=o[e];return r===void 0?t:r}),Ge=e=>U([ho,e],(t,o)=>o.map(r=>r&&t[r]?t[r]:null)),bt=U([pt,Co,Ge(pt),ko(So),gt(j.ShowFoldersFirst,!1)],(e,t,o,r,n)=>{if(!r)return e;let i=a=>c=>a(c),l=[];if(n&&l.push({desc:i(b.isDirectory)}),r.sortKeySelector){let a=t==="asc"?"asc":"desc";l.push({[a]:i(r.sortKeySelector)})}return l.length===0?e:cn([...o]).by(l).map(a=>a?a.id:null)}),Io=U([Ge(Be)],e=>new dn(e,["name"],{caseSensitive:!1})),Ao=U([Be,xo,Io],(e,t,o)=>t?o.search(t).map(r=>r.id):e),vo=U([Ao,Ge(Be),gt(j.ShowHiddenFiles)],(e,t,o)=>{let r=new Set(e),n={};return t.forEach(i=>{if(i)r.has(i.id)?!o&&b.isHidden(i)&&(n[i.id]=!0):n[i.id]=!0;else return}),n}),un=U([bt,vo],(e,t)=>e.filter(o=>!o||!t[o])),fn=U([Do,bt],(e,t)=>!e||e.index>t.length-1||e.fileId!=t[e.index]?null:e.index),H={getFileActionMap:bo,getOptionMap:Fo,getFileMap:ho,getFileIds:pt,getCleanFileIds:Be,getSortActionId:So,getSortOrder:Co,getSearchString:xo,_getLastClick:Do,getSortedFileIds:bt,getSearcher:Io,getSearchFilteredFileIds:Ao,getHiddenFileIdMap:vo,getDisplayFileIds:un,getLastClickIndex:fn,makeGetAction:ko,makeGetOptionValue:gt,makeGetFiles:Ge},wo=(e,t)=>t?se(e)[t]:null,Ke=(e,t)=>!!W(e)[t.id],yn=(e,...t)=>{let{fileMap:o,selectionMap:r}=e,n=Object.keys(r).map(l=>o[l]);return t.reduce((l,s)=>s?l.filter(s):l,n)},gn=(e,t)=>pn(t)(e);var bn=(...e)=>{let t=new Set,o=i=>!!t.add(i.id),r=i=>!t.has(i.id),n=e.map(i=>{let l=i.filter(r);return l.map(o),l});return new Array().concat(...n)},Mo=(e,t)=>o=>{let{sanitizedArray:r,errorMessages:n}=Ce("fileActions",e),i;if(Array.isArray(t)){let a=new Set(t);i=Ve.filter(c=>!a.has(c.id))}else t?i=[]:i=Ve;let l=bn(r,Po,i),s={};l.map(a=>a.option?s[a.option.id]=a.option.defaultValue:null),o(y.setRawFileActions(e)),o(y.setFileActionsErrorMessages(n)),o(y.setFileActions(l)),o(y.setOptionDefaults(s)),o(Fn(l))},Fn=e=>t=>{let o=new Set([f.OpenParentFolder.id]),r=[],n={},i=[],l={},s=(a,c,d)=>{if(c[d])return c[d];let p={name:d,fileActionIds:[]};return a.push(p),c[d]=p,p};for(let a of e){let c=a.button;!c||(c.toolbar&&!o.has(a.id)&&(c.group?s(r,n,c.group).fileActionIds.push(a.id):r.push(a.id)),c.contextMenu&&(c.group?s(i,l,c.group).fileActionIds.push(a.id):i.push(a.id)))}t(y.updateFileActionMenuItems([r,i]))},Eo=e=>(t,o)=>{let{fileActionMap:r}=o(),n=e?r[e]:null;n&&n.fileViewConfig&&t(y.setFileViewConfig(n.fileViewConfig))},_e=e=>(t,o)=>{if(!e)return;let{sortActionId:r,sortOrder:n,fileActionMap:i}=o(),l=i[e];if(!l||!l.sortKeySelector)return;let s=n==="desc"?"desc":"asc";r!==e&&(s="asc"),t(y.setSort({actionId:e,order:s}))},To=e=>(t,o)=>{let r=e.selectionTransform;if(!r)return;let n=o(),i=new Set(Object.keys(W(n))),l=new Set(Object.keys(ut(n))),s=r({prevSelection:i,fileIds:eo(n),fileMap:se(n),hiddenFileIds:l});!s||(s.size===0?t(y.clearSelection()):t(y.selectFiles({fileIds:Array.from(s),reset:!0})))};var Lo=e=>(t,o)=>{M.debug(`FILE ACTION DISPATCH: [${e.id}]`,"data:",e);let r=o(),n=Le(r)[e.id],i=Xt(r);n?i&&Promise.resolve(i(e)).catch(l=>M.error(`User-defined file action handler threw an error: ${l.message}`)):M.warn(`Internal components dispatched the "${e.id}" file action, but such action was not registered.`)},k=(e,t)=>(o,r)=>{M.debug(`FILE ACTION REQUEST: [${e.id}]`,"action:",e,"payload:",t);let n=r(),i=Ne(n);Le(n)[e.id]||M.warn(`The action "${e.id}" was requested, but it is not registered. The action will still be dispatched, but this might indicate a bug in the code. Please register your actions by passing them to "fileActions" prop.`);let l=Re(n),s=e.fileFilter?l.filter(e.fileFilter):l;if(e.requiresSelection&&s.length===0){M.warn(`Internal components requested the "${e.id}" file action, but the selection for this action was empty. This might a bug in the code of the presentational components.`);return}let a=go(n),c={instanceId:i,selectedFiles:l,selectedFilesForAction:s,contextMenuTriggerFile:a};e.sortKeySelector&&o(_e(e.id));let p=e.fileViewConfig;p&&o(y.setFileViewConfig(p));let g=e.option;g&&o(y.toggleOption(g.id)),e.selectionTransform&&o(To(e));let S=e.effect,h;if(S)try{h=S({action:e,payload:t,state:c,reduxDispatch:o,getReduxState:r})}catch(I){M.error(`User-defined effect function for action ${e.id} threw an error: ${I.message}`)}return Promise.resolve(h).then(I=>{let E={id:e.id,action:e,payload:t,state:c};No(o,E,I)}).catch(I=>{M.error(`User-defined effect function for action ${e.id} returned a promise that was rejected: ${I.message}`);let E={id:e.id,action:e,payload:t,state:c};No(o,E,void 0)})},No=(e,t,o)=>{o===!0||e(Lo(t))};var ae=(r=>(r.List="list",r.Compact="compact",r.Grid="grid",r))(ae||{});var B=(m=>(m.loading="loading",m.dropdown="dropdown",m.placeholder="placeholder",m.dndDragging="dndDragging",m.dndCanDrop="dndCanDrop",m.dndCannotDrop="dndCannotDrop",m.openFiles="openFiles",m.openParentFolder="openParentFolder",m.copy="copy",m.paste="paste",m.share="share",m.search="search",m.selectAllFiles="selectAllFiles",m.clearSelection="clearSelection",m.sortAsc="sortAsc",m.sortDesc="sortDesc",m.toggleOn="toggleOn",m.toggleOff="toggleOff",m.list="list",m.compact="compact",m.smallThumbnail="smallThumbnail",m.largeThumbnail="largeThumbnail",m.folder="folder",m.folderCreate="folderCreate",m.folderOpen="folderOpen",m.folderChainSeparator="folderChainSeparator",m.download="download",m.upload="upload",m.trash="trash",m.fallbackIcon="fallbackIcon",m.symlink="symlink",m.hidden="hidden",m.file="file",m.license="license",m.code="code",m.config="config",m.model="model",m.database="database",m.text="text",m.archive="archive",m.image="image",m.video="video",m.info="info",m.key="key",m.lock="lock",m.music="music",m.terminal="terminal",m.users="users",m.linux="linux",m.ubuntu="ubuntu",m.windows="windows",m.rust="rust",m.python="python",m.nodejs="nodejs",m.php="php",m.git="git",m.adobe="adobe",m.pdf="pdf",m.excel="excel",m.word="word",m.flash="flash",m))(B||{});var x=(e,t)=>{if(e.__payloadType!==void 0&&(e.hotkeys||e.button)){let o=`Invalid definition was provided for file action "${e.id}". Actions that specify hotkeys or buttons cannot define a payload type. If your application requires this functionality, define two actions and chain them using effects.`;throw M.error(o),new Error(o)}return e.effect=t,e},We=(e,t)=>!e||t(e)?e:e.parentElement?We(e.parentElement,t):null,Oo=e=>!!We(e,t=>t.tagName&&t.tagName.toLowerCase()==="button"),L=(e,t,o)=>o?typeof e===o?e:t:e!==void 0?e:t;var zo={selectRange:e=>(t,o)=>{let r=o();if(r.disableSelection)return;let i=H.getDisplayFileIds(r).slice(e.rangeStart,e.rangeEnd+1).filter(l=>l&&b.isSelectable(r.fileMap[l]));t(y.selectFiles({fileIds:i,reset:!!e.reset}))}};var ce={MouseClickFile:x({id:"mouse_click_file",__payloadType:{}},({payload:e,reduxDispatch:t,getReduxState:o})=>{if(e.clickType==="double")b.isOpenable(e.file)&&t(k(f.OpenFiles,{targetFile:e.file,files:[e.file]}));else{let r=so(o());if(b.isSelectable(e.file)&&!r)if(e.ctrlKey)t(y.toggleSelection({fileId:e.file.id,exclusive:!1})),t(y.setLastClickIndex({index:e.fileDisplayIndex,fileId:e.file.id}));else if(e.shiftKey){let n=H.getLastClickIndex(o());if(typeof n=="number"){let i=n,l=e.fileDisplayIndex;i>l&&([i,l]=[l,i]),t(zo.selectRange({rangeStart:i,rangeEnd:l}))}else t(y.toggleSelection({fileId:e.file.id,exclusive:!1})),t(y.setLastClickIndex({index:e.fileDisplayIndex,fileId:e.file.id}))}else t(y.toggleSelection({fileId:e.file.id,exclusive:!0})),t(y.setLastClickIndex({index:e.fileDisplayIndex,fileId:e.file.id}));else!e.ctrlKey&&!r&&t(y.clearSelection()),t(y.setLastClickIndex({index:e.fileDisplayIndex,fileId:e.file.id}))}}),KeyboardClickFile:x({id:"keyboard_click_file",__payloadType:{}},({payload:e,reduxDispatch:t,getReduxState:o})=>{t(y.setLastClickIndex({index:e.fileDisplayIndex,fileId:e.file.id})),e.enterKey?ze(o())===0&&t(k(f.OpenFiles,{targetFile:e.file,files:[e.file]})):e.spaceKey&&b.isSelectable(e.file)&&t(y.toggleSelection({fileId:e.file.id,exclusive:e.ctrlKey}))}),StartDragNDrop:x({id:"start_drag_n_drop",__payloadType:{}},({payload:e,reduxDispatch:t,getReduxState:o})=>{let r=e.draggedFile;Ke(o(),r)||b.isSelectable(r)&&t(y.selectFiles({fileIds:[r.id],reset:!0}))}),EndDragNDrop:x({id:"end_drag_n_drop",__payloadType:{}},({payload:e,reduxDispatch:t,getReduxState:o})=>{if(Ke(o(),e.destination))return;let{draggedFile:r,selectedFiles:n}=e,i=n.length>0?n:[r];t(k(f.MoveFiles,{...e,files:i}))}),MoveFiles:x({id:"move_files",__payloadType:{}}),ChangeSelection:x({id:"change_selection",__payloadType:{}}),OpenFiles:x({id:"open_files",__payloadType:{}}),OpenParentFolder:x({id:"open_parent_folder",hotkeys:["backspace"],button:{name:"Go up a directory",toolbar:!0,contextMenu:!1,icon:"openParentFolder",iconOnly:!0}},({reduxDispatch:e,getReduxState:t})=>{let o=Oe(t());b.isOpenable(o)?e(k(f.OpenFiles,{targetFile:o,files:[o]})):M.warn("Open parent folder effect was triggered  even though the parent folder is not openable. This indicates a bug in presentation components.")}),OpenFileContextMenu:x({id:"open_file_context_menu",__payloadType:{}},({payload:e,reduxDispatch:t,getReduxState:o})=>{let r=wo(o(),e.triggerFileId);r&&(Ke(o(),r)||(b.isSelectable(r)?t(y.selectFiles({fileIds:[e.triggerFileId],reset:!0})):t(y.clearSelection()))),t(y.showContextMenu({triggerFileId:e.triggerFileId,mouseX:e.clientX-2,mouseY:e.clientY-4}))})};var Ro={OpenSelection:x({id:"open_selection",hotkeys:["enter"],requiresSelection:!0,fileFilter:b.isOpenable,button:{name:"Open selection",toolbar:!0,contextMenu:!0,group:"Actions",icon:"openFiles"}},({state:e,reduxDispatch:t})=>{t(k(ce.OpenFiles,{files:e.selectedFilesForAction}))}),SelectAllFiles:x({id:"select_all_files",hotkeys:["ctrl+a"],button:{name:"Select all files",toolbar:!0,contextMenu:!0,group:"Actions",icon:"selectAllFiles"},selectionTransform:({fileIds:e,hiddenFileIds:t})=>{let o=new Set;return e.map(r=>{t.has(r)||o.add(r)}),o}}),ClearSelection:x({id:"clear_selection",hotkeys:["escape"],button:{name:"Clear selection",toolbar:!0,contextMenu:!0,group:"Actions",icon:"clearSelection"},selectionTransform:({prevSelection:e})=>e.size===0?null:new Set}),EnableListView:x({id:"enable_list_view",fileViewConfig:{mode:"list",entryHeight:30},button:{name:"Switch to List view",toolbar:!0,icon:"list",iconOnly:!0}}),EnableCompactView:x({id:"enable_compact_view",fileViewConfig:{mode:"compact",entryHeight:40,entryWidth:220},button:{name:"Switch to Compact view",toolbar:!0,icon:"compact",iconOnly:!0}}),EnableGridView:x({id:"enable_grid_view",fileViewConfig:{mode:"grid",entryWidth:165,entryHeight:130},button:{name:"Switch to Grid view",toolbar:!0,icon:"smallThumbnail",iconOnly:!0}}),SortFilesByName:x({id:"sort_files_by_name",sortKeySelector:e=>e?e.name.toLowerCase():void 0,button:{name:"Sort by name",toolbar:!0,group:"Options"}}),SortFilesBySize:x({id:"sort_files_by_size",sortKeySelector:e=>e?e.size:void 0,button:{name:"Sort by size",toolbar:!0,group:"Options"}}),SortFilesByDate:x({id:"sort_files_by_date",sortKeySelector:e=>e?e.modDate:void 0,button:{name:"Sort by date",toolbar:!0,group:"Options"}}),ToggleHiddenFiles:x({id:"toggle_hidden_files",hotkeys:["ctrl+h"],option:{id:j.ShowHiddenFiles,defaultValue:!0},button:{name:"Show hidden files",toolbar:!0,group:"Options"}}),ToggleShowFoldersFirst:x({id:"toggle_show_folders_first",option:{id:j.ShowFoldersFirst,defaultValue:!0},button:{name:"Show folders first",toolbar:!0,group:"Options"}}),FocusSearchInput:x({id:"focus_search_input",hotkeys:["ctrl+f"]},({getReduxState:e})=>{let t=ro(e());t&&t()}),ToggleDarkMode:x({id:"enable_dark_mode",option:{id:j.DarkMode,defaultValue:!1},button:{name:"Enable dark mode",toolbar:!0,icon:"list",iconOnly:!0}})};var Ho={CopyFiles:x({id:"copy_files",requiresSelection:!0,hotkeys:["ctrl+c"],button:{name:"Copy selection",toolbar:!0,contextMenu:!0,group:"Actions",icon:"copy"}}),CreateFolder:x({id:"create_folder",button:{name:"Create folder",toolbar:!0,tooltip:"Create a folder",icon:"folderCreate"}}),UploadFiles:x({id:"upload_files",button:{name:"Upload files",toolbar:!0,tooltip:"Upload files",icon:"upload"}}),DownloadFiles:x({id:"download_files",requiresSelection:!0,button:{name:"Download files",toolbar:!0,contextMenu:!0,group:"Actions",icon:"download"}}),DeleteFiles:x({id:"delete_files",requiresSelection:!0,hotkeys:["delete"],button:{name:"Delete files",toolbar:!0,contextMenu:!0,group:"Actions",icon:"trash"}})};var f={...ce,...Ro,...Ho},Po=[f.MouseClickFile,f.KeyboardClickFile,f.StartDragNDrop,f.EndDragNDrop,f.MoveFiles,f.ChangeSelection,f.OpenFiles,f.OpenParentFolder,f.OpenFileContextMenu],Ve=[f.OpenSelection,f.SelectAllFiles,f.ClearSelection,f.EnableListView,f.EnableGridView,f.SortFilesByName,f.SortFilesBySize,f.SortFilesByDate,f.ToggleHiddenFiles,f.ToggleShowFoldersFirst,f.FocusSearchInput];var de={instanceId:"CHONKY_INVALID_ID",externalFileActionHandler:null,rawFileActions:[],fileActionsErrorMessages:[],fileActionMap:{},fileActionIds:[],toolbarItems:[],contextMenuItems:[],rawFolderChain:null,folderChainErrorMessages:[],folderChain:[],rawFiles:[],filesErrorMessages:[],fileMap:{},fileIds:[],cleanFileIds:[],sortedFileIds:[],hiddenFileIdMap:{},focusSearchInput:null,searchString:"",searchMode:"currentFolder",selectionMap:{},disableSelection:!1,fileViewConfig:f.EnableGridView.fileViewConfig,sortActionId:null,sortOrder:"asc",optionMap:{},thumbnailGenerator:null,doubleClickDelay:300,disableDragAndDrop:!1,clearSelectionOnOutsideClick:!0,lastClick:null,contextMenuMounted:!1,contextMenuConfig:null};var Sn={setExternalFileActionHandler(e,t){e.externalFileActionHandler=t.payload??null},setRawFileActions(e,t){e.rawFileActions=t.payload},setFileActionsErrorMessages(e,t){e.fileActionsErrorMessages=t.payload},setFileActions(e,t){let o={};t.payload.map(n=>o[n.id]=n);let r=t.payload.map(n=>n.id);e.fileActionMap=o,e.fileActionIds=r},updateFileActionMenuItems(e,t){[e.toolbarItems,e.contextMenuItems]=t.payload},setRawFolderChain(e,t){let o=t.payload,{sanitizedArray:r,errorMessages:n}=Ce("folderChain",o);e.rawFolderChain=o,e.folderChain=r,e.folderChainErrorMessages=n},setRawFiles(e,t){let o=t.payload,{sanitizedArray:r,errorMessages:n}=Ce("files",o);e.rawFiles=o,e.filesErrorMessages=n;let i={};r.forEach(a=>{a&&(i[a.id]=a)});let l=r.map(a=>a?a.id:null),s=l.filter(a=>!!a);e.fileMap=i,e.fileIds=l,e.cleanFileIds=s;for(let a of Object.keys(e.selectionMap))i[a]||delete e.selectionMap[a]},setSortedFileIds(e,t){e.sortedFileIds=t.payload},setHiddenFileIds(e,t){e.hiddenFileIdMap=t.payload;for(let o of Object.keys(e.selectionMap))e.hiddenFileIdMap[o]&&delete e.selectionMap[o]},setFocusSearchInput(e,t){e.focusSearchInput=t.payload},setSearchString(e,t){e.searchString=t.payload},selectAllFiles(e){e.fileIds.filter(t=>t&&b.isSelectable(e.fileMap[t])).map(t=>t?e.selectionMap[t]=!0:null)},selectFiles(e,t){e.disableSelection||(t.payload.reset&&(e.selectionMap={}),t.payload.fileIds.filter(o=>o&&b.isSelectable(e.fileMap[o])).map(o=>e.selectionMap[o]=!0))},toggleSelection(e,t){if(e.disableSelection)return;let o=!!e.selectionMap[t.payload.fileId];t.payload.exclusive&&(e.selectionMap={}),o?delete e.selectionMap[t.payload.fileId]:b.isSelectable(e.fileMap[t.payload.fileId])&&(e.selectionMap[t.payload.fileId]=!0)},clearSelection(e){e.disableSelection||Object.keys(e.selectionMap).length!==0&&(e.selectionMap={})},setSelectionDisabled(e,t){e.disableSelection=t.payload,Object.keys(e.selectionMap).length!==0&&(e.selectionMap={})},setFileViewConfig(e,t){e.fileViewConfig=t.payload},setSort(e,t){e.sortActionId=t.payload.actionId,e.sortOrder=t.payload.order},setOptionDefaults(e,t){for(let o of Object.keys(t.payload))o in e.optionMap||(e.optionMap[o]=t.payload[o])},toggleOption(e,t){e.optionMap[t.payload]=!e.optionMap[t.payload]},setThumbnailGenerator(e,t){e.thumbnailGenerator=t.payload},setDoubleClickDelay(e,t){e.doubleClickDelay=t.payload},setDisableDragAndDrop(e,t){e.disableDragAndDrop=t.payload},setClearSelectionOnOutsideClick(e,t){e.clearSelectionOnOutsideClick=t.payload},setLastClickIndex(e,t){e.lastClick=t.payload},setContextMenuMounted(e,t){e.contextMenuMounted=t.payload},showContextMenu(e,t){e.contextMenuConfig=t.payload},hideContextMenu(e){!e.contextMenuConfig||(e.contextMenuConfig=null)}},{actions:y,reducer:Bo}=hn({name:"root",initialState:de,reducers:Sn});import{useEffect as Cn}from"react";import xn from"redux-watch";var Go=e=>{Cn(()=>{let t=xn(()=>W(e.getState())),o=(n,i)=>{if(n===i)return;let l=ft(e.getState()),s=new Set(l);e.dispatch(k(f.ChangeSelection,{selection:s}))},r=[e.subscribe(t(o))];return()=>{for(let n of r)n()}},[e])};var _o=e=>{let t=Pe(()=>{let o={...de,instanceId:e};return In({preloadedState:o,reducer:Bo,middleware:r=>r({serializableCheck:!1}),devTools:{name:`chonky_${e}`}})});return Go(t),t},R=(e,...t)=>{let o=Dn(r=>e(...t)(r),[e,...t]);return kn(o)},$=(e,...t)=>{let o=Vo();Ko(()=>{o(e(...t))},[o,e,...t])},Ft=(e,t)=>{let o=Vo();Ko(()=>{o(e(t))},[o,e,t])};import An from"react";var pe=()=>An.createElement("span",{title:"No icon component found. Please follow Chonky installation instructions to provide a pre-made icon component (or a custom icon)."},"\u26A0\uFE0F");var P={fileActions:null,onFileAction:null,thumbnailGenerator:null,doubleClickDelay:300,disableSelection:!1,disableDefaultFileActions:!1,disableDragAndDrop:!1,disableDragAndDropProvider:!1,defaultSortActionId:f.SortFilesByDate.id,defaultFileViewActionId:f.EnableGridView.id,clearSelectionOnOutsideClick:!0,iconComponent:pe,darkMode:!1,i18n:{}},vn=e=>{for(let t of Object.keys(P))t in e&&(P[t]=e[t])};import wn from"filesize";import{createContext as Mn,useContext as En,useMemo as St}from"react";import{useIntl as Ct}from"react-intl";var me=(l=>(l.Toolbar="toolbar",l.FileList="fileList",l.FileEntry="fileEntry",l.FileContextMenu="contextMenu",l.FileActions="actions",l.FileActionGroups="actionGroups",l))(me||{}),K=(e,t)=>`chonky.${e}.${t}`,ht=(e,t)=>`chonky.${"actions"}.${e}.${t}`,Wo=e=>{let t=Ct();return St(()=>t.formatMessage({id:K("actionGroups",e),defaultMessage:e}),[e,t])},$e=e=>{let t=Ct();return St(()=>{var n,i,l;if(!e)return{buttonName:"",buttonTooltip:void 0};let o=t.formatMessage({id:ht(e.id,"button.name"),defaultMessage:(n=e.button)==null?void 0:n.name}),r;return(i=e.button)!=null&&i.tooltip&&(r=t.formatMessage({id:ht(e.id,"button.tooltip"),defaultMessage:(l=e.button)==null?void 0:l.tooltip})),{buttonName:o,buttonTooltip:r}},[e,t])},je=e=>{let t=Ct(),o=En(xt);return St(()=>({fileModDateString:o.formatFileModDate(t,e),fileSizeString:o.formatFileSize(t,e)}),[e,o,t])},Ue={formatFileModDate:(e,t)=>{let o=b.getModDate(t);return o?e.formatDate(o,{dateStyle:"medium"}):null},formatFileSize:(e,t)=>{if(!t||typeof t.size!="number")return null;let o=t.size,r=wn(o,{bits:!1,output:"object"});return r.symbol==="B"?`${Math.round(r.value/10)/100} KB`:r.symbol==="KB"?`${Math.round(r.value)} ${r.symbol}`:`${r.value} ${r.symbol}`}},xt=Mn(Ue);import{createContext as Tn,useMemo as Pn}from"react";import Nn from"exact-trie";var A=Tn(pe),Ln=["3g2","3gp","3gpp","asf","asx","avi","dvb","f4v","fli","flv","fvt","h261","h263","h264","jpgm","jpgv","jpm","m1v","m2v","m4u","m4v","mj2","mjp2","mk3d","mks","mkv","mng","mov","movie","mp4","mp4v","mpe","mpeg","mpg","mpg4","mxu","ogv","pyv","qt","smv","ts","uvh","uvm","uvp","uvs","uvu","uvv","uvvh","uvvm","uvvp","uvvs","uvvu","uvvv","viv","vob","webm","wm","wmv","wmx","wvx"],On=["3ds","apng","azv","bmp","bmp","btif","cgm","cmx","djv","djvu","drle","dwg","dxf","emf","exr","fbs","fh","fh4","fh5","fh7","fhc","fits","fpx","fst","g3","gif","heic","heics","heif","heifs","ico","ico","ief","jls","jng","jp2","jpe","jpeg","jpf","jpg","jpg2","jpm","jpx","jxr","ktx","mdi","mmr","npx","pbm","pct","pcx","pcx","pgm","pic","png","pnm","ppm","psd","pti","ras","rgb","rlc","sgi","sid","sub","svg","svgz","t38","tap","tfx","tga","tif","tiff","uvg","uvi","uvvg","uvvi","vtf","wbmp","wdp","webp","wmf","xbm","xif","xpm","xwd"],zn=["3gpp","aac","adp","aif","aifc","aiff","au","caf","dra","dts","dtshd","ecelp4800","ecelp7470","ecelp9600","eol","flac","kar","lvp","m2a","m3a","m3u","m4a","m4a","mid","midi","mka","mp2","mp2a","mp3","mp3","mp4a","mpga","oga","ogg","pya","ra","ra","ram","rip","rmi","rmp","s3m","sil","snd","spx","uva","uvva","wav","wav","wav","wax","weba","wma","xm"],Dt=["#bbbbbb","#d65c5c","#d6665c","#d6705c","#d67a5c","#d6855c","#d68f5c","#d6995c","#d6a35c","#d6ad5c","#d6b85c","#d6c25c","#d6cc5c","#d6d65c","#ccd65c","#c2d65c","#b8d65c","#add65c","#a3d65c","#99d65c","#8fd65c","#85d65c","#7ad65c","#70d65c","#66d65c","#5cd65c","#5cd666","#5cd670","#5cd67a","#5cd685","#5cd68f","#5cd699","#5cd6a3","#5cd6ad","#5cd6b8","#5cd6c2","#5cd6cc","#5cd6d6","#5cccd6","#5cc2d6","#5cb8d6","#5cadd6","#5ca3d6","#5c99d6","#5c8fd6","#5c85d6","#5c7ad6","#5c70d6","#5c66d6","#5c5cd6","#665cd6","#705cd6","#7a5cd6","#855cd6","#8f5cd6","#995cd6","#a35cd6","#ad5cd6","#b85cd6","#c25cd6","#cc5cd6","#d65cd6","#d65ccc","#d65cc2","#d65cb8","#d65cad","#d65ca3","#d65c99","#d65c8f","#d65c85","#d65c7a","#d65c70","#d65c66"],$o=["#777","#8f3d3d","#8f443d","#8f4b3d","#8f523d","#8f583d","#8f5f3d","#8f663d","#8f6d3d","#8f743d","#8f7a3d","#8f813d","#8f883d","#8f8f3d","#888f3d","#818f3d","#7a8f3d","#748f3d","#6d8f3d","#668f3d","#5f8f3d","#588f3d","#528f3d","#4b8f3d","#448f3d","#3d8f3d","#3d8f44","#3d8f4b","#3d8f52","#3d8f58","#3d8f5f","#3d8f66","#3d8f6d","#3d8f74","#3d8f7a","#3d8f81","#3d8f88","#3d8f8f","#3d888f","#3d818f","#3d7a8f","#3d748f","#3d6d8f","#3d668f","#3d5f8f","#3d588f","#3d528f","#3d4b8f","#3d448f","#3d3d8f","#443d8f","#4b3d8f","#523d8f","#583d8f","#5f3d8f","#663d8f","#6d3d8f","#743d8f","#7a3d8f","#813d8f","#883d8f","#8f3d8f","#8f3d88","#8f3d81","#8f3d7a","#8f3d74","#8f3d6d","#8f3d66","#8f3d5f","#8f3d58","#8f3d52","#8f3d4b","#8f3d44"],Rn=()=>{let e=0,t=5,o=[["license",["license"]],["config",["sfk","ini","yml","toml","iml"]],["model",["3ds","obj","ply","fbx"]],["database",["csv","json","sql","sqlite","sqlite3","npy","npz","rec","idx","hdf5"]],["text",["txt","md","mdx"]],["archive",["zip","rar","tar","tar.gz","7z"]],["image",On],["video",Ln],["code",["html","php","css","sass","scss","less","cpp","h","hpp","c","xml"]],["info",["bib","readme","nfo"]],["key",["pem","pub"]],["lock",["lock","lock.json","shrinkwrap.json"]],["music",zn],["terminal",["run","sh"]],["trash",[".Trashes"]],["users",["authors","contributors"]],["linux",["AppImage"]],["ubuntu",["deb"]],["windows",["exe"]],["rust",["rs","rlib"]],["python",["py","ipynb"]],["nodejs",["js","jsx","ts","tsx","d.ts"]],["php",["php"]],["git",[".gitignore"]],["adobe",["psd"]],["pdf",["pdf"]],["excel",["xls","xlsx"]],["word",["doc","docx","odt"]],["flash",["swf"]]],r=new Nn({ignoreCase:!0});for(let n of o){let[i,l]=n;for(let s=0;s<l.length;++s){e+=t;let a=e%(Dt.length-1)+1,c={icon:i,colorCode:a};r.put(l[s],c,!0)}}return r},Hn=Rn(),jo=e=>Pn(()=>{if(!e)return{icon:"loading",colorCode:0};if(e.isDir===!0)return{icon:"folder",colorCode:0};let t=Hn.getWithCheckpoints(e.name,".",!0);return t||{icon:"file",colorCode:32}},[e]);import Bn from"@material-ui/core/useMediaQuery";import Gn from"classnames";import{createUseStyles as Uo}from"react-jss";var qo={colors:{debugRed:"#fabdbd",debugBlue:"#bdd8fa",debugGreen:"#d2fabd",debugPurple:"#d2bdfa",debugYellow:"#fae9bd",textActive:"#09f"},fontSizes:{rootPrimary:15},margins:{rootLayoutMargin:8},toolbar:{size:30,lineHeight:"30px",fontSize:15,buttonRadius:4},dnd:{canDropColor:"green",cannotDropColor:"red",canDropMask:"rgba(180, 235, 180, 0.75)",cannotDropMask:"rgba(235, 180, 180, 0.75)",fileListCanDropMaskOne:"rgba(180, 235, 180, 0.1)",fileListCanDropMaskTwo:"rgba(180, 235, 180, 0.2)",fileListCannotDropMaskOne:"rgba(235, 180, 180, 0.1)",fileListCannotDropMaskTwo:"rgba(235, 180, 180, 0.2)"},dragLayer:{border:"solid 2px #09f",padding:"7px 10px",borderRadius:2},fileList:{desktopGridGutter:8,mobileGridGutter:5},gridFileEntry:{childrenCountSize:"1.6em",iconColorFocused:"#000",iconSize:"2.4em",iconColor:"#fff",borderRadius:5,fontSize:14,fileColorTint:"rgba(255, 255, 255, 0.4)",folderBackColorTint:"rgba(255, 255, 255, 0.1)",folderFrontColorTint:"rgba(255, 255, 255, 0.4)"},listFileEntry:{propertyFontSize:14,iconFontSize:"1.1em",iconBorderRadius:5,fontSize:14}},Yo={gridFileEntry:{fileColorTint:"rgba(50, 50, 50, 0.4)",folderBackColorTint:"rgba(50, 50, 50, 0.4)",folderFrontColorTint:"rgba(50, 50, 50, 0.15)"}},Xo={fontSizes:{rootPrimary:13},margins:{rootLayoutMargin:4},toolbar:{size:28,lineHeight:"28px",fontSize:13},gridFileEntry:{fontSize:13},listFileEntry:{propertyFontSize:12,iconFontSize:"1em",fontSize:13}},qe=()=>Bn("(max-width:480px)"),kt=(e,t)=>`repeating-linear-gradient(45deg,${e},${e} 10px,${t} 0,${t} 20px)`,v=e=>Uo(e),D=e=>{let t={},r=Uo(n=>{let i=e(n),l={};return Object.keys(i).map(a=>{let c=`chonky-${a}`,d=`@global .${c}`;l[d]=i[a],t[a]=c}),l});return(...n)=>{let i=r(...n),l={};return Object.keys(t).map(s=>{l[s]=t[s]}),{...l,...i}}},u=e=>[e,"!important"],N=Gn;import It from"react";import{useImperativeHandle as Kn}from"react";import{useDispatch as Vn,useStore as _n}from"react-redux";var Zo=e=>{let t=_n(),o=Vn();Kn(e,()=>({getFileSelection(){let r=W(t.getState());return new Set(Object.keys(r))},setFileSelection(r,n=!0){let i=Array.from(r);o(y.selectFiles({fileIds:i,reset:n}))},requestFileAction(r,n){return Promise.resolve(o(k(r,n))).then()}}),[t,o])};var Qo=It.memo(It.forwardRef((e,t)=>(Ft(y.setRawFiles,e.files??de.rawFiles),Ft(y.setRawFolderChain,e.folderChain),$(Mo,L(e.fileActions,P.fileActions),L(e.disableDefaultFileActions,P.disableDefaultFileActions)),$(y.setExternalFileActionHandler,L(e.onFileAction,P.onFileAction)),$(y.setSelectionDisabled,L(e.disableSelection,P.disableSelection,"boolean")),$(_e,L(e.defaultSortActionId,P.defaultSortActionId)),$(Eo,L(e.defaultFileViewActionId,P.defaultFileViewActionId,"string")),$(y.setThumbnailGenerator,L(e.thumbnailGenerator,P.thumbnailGenerator)),$(y.setDoubleClickDelay,L(e.doubleClickDelay,P.doubleClickDelay,"number")),$(y.setDisableDragAndDrop,L(e.disableDragAndDrop,P.disableDragAndDrop,"boolean")),$(y.setClearSelectionOnOutsideClick,L(e.clearSelectionOnOutsideClick,P.clearSelectionOnOutsideClick,"boolean")),Zo(t),null)));Qo.displayName="ChonkyBusinessLogicInner";var At=It.memo(Qo);At.displayName="ChonkyBusinessLogic";import ri from"@material-ui/core/Box";import ni from"@material-ui/core/ClickAwayListener";import Xe,{useCallback as ii,useMemo as li}from"react";import{useDispatch as si,useSelector as vt}from"react-redux";import{useCallback as Jo,useContext as Wn}from"react";import{DndContext as $n,useDrag as jn,useDrop as Un}from"react-dnd";var Ye=()=>{let e=Wn($n),{dragDropManager:t}=e;return!!t},er=(...e)=>{let t=Ye(),o=Jo(()=>[{},()=>null,()=>null],[]);return(t?jn:o)(...e)},tr=(...e)=>{let t=Ye(),o=Jo(()=>[{},()=>null],[]);return(t?Un:o)(...e)};import{useCallback as or}from"react";import{useDispatch as rr,useSelector as qn}from"react-redux";var Yn=e=>{let t=We(e,o=>o.tagName&&o.tagName.toLowerCase()==="div"&&o.dataset&&o.dataset.chonkyFileId);return t?t.dataset.chonkyFileId:null},nr=()=>{let e=rr(),t=_(qn(yo));return or(o=>{if(!t.current||o.altKey)return;o.preventDefault();let r=Yn(o.target);e(k(f.OpenFileContextMenu,{clientX:o.clientX,clientY:o.clientY,triggerFileId:r}))},[t,e])},ir=()=>{let e=rr();return or(()=>e(y.hideContextMenu()),[e])};import oe from"react";import{useDragLayer as Xn}from"react-dnd";var te="dnd-chonky-file-entry";var Zn={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"},Qn=(e,t,o)=>{if(!e||!t||!o)return{display:"none"};let r=e.x+(o.x-t.x),n=e.y+(o.y-t.y),i=`translate(${r}px, ${n}px)`;return{transform:i,WebkitTransform:i}},lr=()=>{let e=Jn(),{itemType:t,item:o,initialCursorOffset:r,initialFileOffset:n,currentFileOffset:i,isDragging:l}=Xn(a=>({item:a.getItem(),itemType:a.getItemType(),initialCursorOffset:a.getInitialClientOffset(),initialFileOffset:a.getInitialSourceClientOffset(),currentFileOffset:a.getSourceClientOffset(),isDragging:a.isDragging()}));if(!l||t!==te||!o.payload)return null;let s=o.payload.selectedFiles.length;return oe.createElement("div",{style:Zn},oe.createElement("div",{style:Qn(r,n,i)},oe.createElement("div",{className:e.fileDragPreview},oe.createElement("b",null,o.payload.draggedFile.name),s>1&&oe.createElement(oe.Fragment,null," and ",oe.createElement("strong",null,s-1," other file",s-1!==1?"s":"")))))},Jn=D(e=>({fileDragPreview:{boxShadow:`2px 2px 5px ${e.palette.divider}`,backgroundColor:e.palette.background.default,borderRadius:e.dragLayer.borderRadius,fontSize:e.fontSizes.rootPrimary,color:e.palette.text.primary,padding:e.dragLayer.padding,border:e.dragLayer.border,display:"inline-block"}}));import sr from"hotkeys-js";import ei,{useEffect as ti}from"react";import{useDispatch as oi}from"react-redux";var ar=ei.memo(e=>{let{fileActionId:t}=e,o=oi(),r=R(q,t);return ti(()=>{if(!r||!r.hotkeys||r.hotkeys.length===0)return;let n=r.hotkeys.join(","),i=l=>{l.preventDefault(),o(k(r,void 0))};return sr(n,i),()=>sr.unbind(n,i)},[o,r]),null});var cr=({children:e})=>{let t=si(),o=vt(Zt),r=vt(He),n=vt(fo),i=ii(d=>{!n||Oo(d.target)||t(y.clearSelection())},[t,n]),l=li(()=>o.map(d=>Xe.createElement(ar,{key:`file-action-listener-${d}`,fileActionId:d})),[o]),s=Ye(),a=nr(),c=ai();return Xe.createElement(ni,{onClickAway:i},Xe.createElement(ri,{className:c.chonkyRoot,onContextMenu:a},!r&&s&&Xe.createElement(lr,null),l,e||null))},ai=D(e=>({chonkyRoot:{backgroundColor:e.palette.background.paper,border:`solid 1px ${e.palette.divider}`,padding:e.margins.rootLayoutMargin,fontSize:e.fontSizes.rootPrimary,color:e.palette.text.primary,touchAction:"manipulation",fontFamily:"sans-serif",flexDirection:"column",boxSizing:"border-box",textAlign:"left",borderRadius:4,display:"flex",height:"100%",webkitTouchCallout:"none",webkitUserSelect:"none",mozUserSelect:"none",msUserSelect:"none",userSelect:"none"}}));var Ze=V.forwardRef((e,t)=>{let{instanceId:o,iconComponent:r,children:n}=e,i=L(e.disableDragAndDrop,P.disableDragAndDrop,"boolean"),l=L(e.disableDragAndDropProvider,P.disableDragAndDropProvider,"boolean"),s=L(e.darkMode,P.darkMode,"boolean"),a=L(e.i18n,P.i18n),c=dr(()=>({...Ue,...a==null?void 0:a.formatters}),[a]),d=Pe(()=>o??gi.generate()),p=_o(d),g=qe(),F=dr(()=>{let h=ci({palette:{type:s?"dark":"light"}}),I=wt(h,wt(qo,s?Yo:{}));return g?wt(I,Xo):I},[s,g]),S=V.createElement(V.Fragment,null,V.createElement(At,{ref:t,...e}),V.createElement(cr,null,n));return V.createElement(ui,{locale:"en",defaultLocale:"en",...a},V.createElement(xt.Provider,{value:c},V.createElement(yi,{store:p},V.createElement(fi,{theme:F},V.createElement(di,{theme:F},V.createElement(A.Provider,{value:r??P.iconComponent??pe},i||l?S:V.createElement(pi,{backend:mi},S)))))))});Ze.displayName="FileBrowser";import Dr from"@material-ui/core/Box";import Ki from"@material-ui/core/Breadcrumbs";import ge,{useMemo as Vi}from"react";import{useMemo as bi}from"react";import{useDispatch as Fi,useSelector as hi}from"react-redux";var pr=()=>{let e=hi(le),t=Fi();return bi(()=>{let r=[];if(!e)return r;for(let n=0;n<e.length;++n){let i=e[n];r.push({file:i,disabled:!i,onClick:!b.isOpenable(i)||n===e.length-1?void 0:()=>t(k(f.OpenFiles,{targetFile:i,files:[i]}))})}return r},[t,e])};import we,{useContext as Hi,useMemo as Bi}from"react";import{useCallback as J,useEffect as mr,useMemo as ur}from"react";import{getEmptyImage as Si}from"react-dnd-html5-backend";import{useDispatch as fr,useSelector as yr,useStore as Ci}from"react-redux";var xi=e=>{let t=Ci(),o=_(e),r=J(()=>{let F=t.getState();return{sourceInstanceId:Ne(F),source:xe(F),draggedFile:o.current,selectedFiles:Re(F)}},[t,o]),n=fr(),i=J(()=>b.isDraggable(o.current),[o]),l=J(()=>{let F={type:te,payload:r()};return n(k(f.StartDragNDrop,F.payload)),F},[n,r]),s=J((F,S)=>{let h=S.getDropResult();!b.isDraggable(F.payload.draggedFile)||!h||!h.dropTarget||n(k(f.EndDragNDrop,{...F.payload,destination:h.dropTarget,copy:h.dropEffect==="copy"}))},[n]),a=ur(()=>({type:te,payload:{}}),[]),c=J(F=>({isDragging:F.isDragging()}),[]),[{isDragging:d},p,g]=er({item:a,canDrag:i,begin:l,end:s,collect:c});return mr(()=>{g(Si(),{captureDraggingState:!0})},[g]),{dndIsDragging:d,drag:p}},De=({file:e,forceDisableDrop:t,includeChildrenDrops:o})=>{let r=_(yr(le)),n=J((p,g)=>g.canDrop()?{dropTarget:e}:void 0,[e]),i=J((p,g)=>{if(t||!b.isDroppable(e)||!g.isOver({shallow:!0})&&!o)return!1;let{source:F,draggedFile:S,selectedFiles:h}=p.payload,I=new Set;I.add(e.id),r.current.map(C=>{C&&I.add(C.id)});let E=[S,...h];for(let C of E)if(I.has(C.id))return!1;return e.id!==(F==null?void 0:F.id)},[t,e,o,r]),l=J(p=>({isOver:p.isOver(),isOverCurrent:p.isOver({shallow:!0}),canDrop:p.canDrop()}),[]),[{isOver:s,isOverCurrent:a,canDrop:c},d]=tr({accept:te,drop:n,canDrop:i,collect:l});return{dndIsOver:s,dndIsOverCurrent:a,dndCanDrop:c,drop:d}},gr=e=>{let{dndIsDragging:t,drag:o}=xi(e),{dndIsOver:r,dndCanDrop:n,drop:i}=De({file:e}),l=ur(()=>({dndIsDragging:t,dndIsOver:r,dndCanDrop:n}),[n,t,r]);return{drop:i,drag:o,dndState:l}},Qe=(e,t)=>{let o=fr(),r=_(yr(xe));mr(()=>{var i;let n=null;return t.dndIsOver&&b.isDndOpenable(e)&&e.id!==((i=r.current)==null?void 0:i.id)&&(n=setTimeout(()=>o(k(ce.OpenFiles,{targetFile:e,files:[e]})),1500)),()=>{n&&clearTimeout(n)}},[o,e,t.dndIsOver,r])};import ke,{useCallback as Je,useContext as Ii,useEffect as Ai,useMemo as Ie,useRef as vi,useState as Fr}from"react";import{useDispatch as wi,useSelector as Mi}from"react-redux";import br from"react";var Di=(e,t)=>e+Math.floor(Math.random()*Math.floor(t-e)),ee=br.memo(e=>{let{minLength:t,maxLength:o}=e,r=Di(t,o),n="&nbsp;".repeat(r),i=ki();return br.createElement("span",{className:i.textPlaceholder,dangerouslySetInnerHTML:{__html:n}})}),ki=v(()=>({"@keyframes loading-placeholder":{"0%":{opacity:.2},"50%":{opacity:.4},"100%":{opacity:.2}},textPlaceholder:{animationName:"$loading-placeholder",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDuration:"1.5s",backgroundColor:"#ccc",whiteSpace:"nowrap",overflow:"hidden",borderRadius:4,maxWidth:"40%",minWidth:20}}));var ue=e=>Ie(()=>({role:"listitem",...{"data-test-id":"file-entry","data-chonky-file-id":e?e.id:void 0}}),[e]),fe=(e,t,o)=>{let r=jo(e),{thumbnailUrl:n,thumbnailLoading:i}=Ti(e);return Ie(()=>{let l=n?$o[r.colorCode]:Dt[r.colorCode],s=i||!e,a=i?"loading":r.icon;return{childrenCount:b.getChildrenCount(e),icon:e&&e.icon!==void 0?e.icon:a,iconSpin:s,thumbnailUrl:n,color:e&&e.color!==void 0?e.color:l,selected:t,focused:!!o}},[e,o,r,t,i,n])},ye=e=>{let t=null;return e.dndIsOver?t=e.dndCanDrop?"dndCanDrop":"dndCannotDrop":e.dndIsDragging&&(t="dndDragging"),t},hr=e=>{let t=Ie(()=>{let n=[];return b.isHidden(e)&&n.push("hidden"),b.isSymlink(e)&&n.push("symlink"),b.isEncrypted(e)&&n.push("lock"),n},[e]),o=Ii(A);return Ie(()=>t.map((n,i)=>ke.createElement(o,{key:`file-modifier-${i}`,icon:n,file:e})),[o,t])},Ei=e=>{let t=e.split(".");return t.length?`.${t[t.length-1]}`:""},Sr=e=>Ie(()=>{if(!e)return ke.createElement(ee,{minLength:15,maxLength:20});let t,o=null;return b.isDirectory(e)?t=e.name:(o=(e==null?void 0:e.ext)??Ei(e==null?void 0:e.name),t=e==null?void 0:e.name.substr(0,(e==null?void 0:e.name.length)-o.length)),ke.createElement("div",{className:"chonky-file-name"},e.sortName??t,o&&ke.createElement("span",{className:"chonky-file-entry-description-title-extension"},o),ke.createElement("span",{className:"chonky-file-title"},e.name))},[e]),Ti=e=>{let t=Mi(mo),[o,r]=Fr(null),[n,i]=Fr(!1),l=vi(0);return Ai(()=>{let s=!1;return e&&(t?(l.current===0&&i(!0),l.current++,Promise.resolve().then(()=>t(e)).then(a=>{s||(i(!1),a&&typeof a=="string"&&r(a))}).catch(a=>{s||i(!1),M.error(`User-defined "thumbnailGenerator" handler threw an error: ${a.message}`)})):e.thumbnailUrl&&r(e.thumbnailUrl)),()=>{s=!0}},[e,r,i,t]),{thumbnailUrl:o,thumbnailLoading:n}},Cr=(e,t)=>{let o=wi(),r=Je((s,a)=>{!e||o(k(f.MouseClickFile,{clickType:a,file:e,fileDisplayIndex:t,altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey}))},[o,e,t]),n=Je(s=>{!e||o(k(f.KeyboardClickFile,{file:e,fileDisplayIndex:t,enterKey:s.enterKey,spaceKey:s.spaceKey,altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey}))},[o,e,t]),i=Je(s=>r(s,"single"),[r]),l=Je(s=>r(s,"double"),[r]);return{onSingleClick:i,onDoubleClick:l,onKeyboardClick:n}};import Oi from"@material-ui/core/Button";import Y,{useContext as zi}from"react";var Ae=(n=>(n[n.Hidden=0]="Hidden",n[n.Disabled=1]="Disabled",n[n.Default=2]="Default",n[n.Active=3]="Active",n))(Ae||{});import{useCallback as Pi,useMemo as Ni}from"react";import{useDispatch as Li,useSelector as et}from"react-redux";var tt=e=>{let t=Li(),o=R(q,e);return Pi(()=>t(k(o,void 0)),[t,o])},ot=e=>{var c;let t=et(Oe),o=et(Q),r=et(ao),n=et(co),i=R(q,e),l=R(po,(c=i==null?void 0:i.option)==null?void 0:c.id),a=R(lo,e)===0;return Ni(()=>{var C;if(!i)return{icon:null,active:!1,disabled:!0};let d=((C=i.button)==null?void 0:C.icon)??null;i.sortKeySelector?r===i.id?n==="asc"?d="sortAsc":d="sortDesc":d="placeholder":i.option&&(l?d="toggleOn":d="toggleOff");let p=i.id===r,g=i.fileViewConfig===o,F=i.option?!!l:!1,S=!1,h=!1;i.customVisibility!==void 0&&(S=i.customVisibility()===1,h=i.customVisibility()===3);let I=p||g||F||h,E=!!i.requiresSelection&&a||S;return i.id===f.OpenParentFolder.id&&(E=E||!b.isOpenable(t)),{icon:d,active:I,disabled:E}},[t,o,r,n,i,l,a])};var ve=Y.memo(e=>{let{className:t,text:o,tooltip:r,active:n,icon:i,iconOnly:l,onClick:s,disabled:a,dropdown:c}=e,d=Ri(),p=zi(A),g=i||l?Y.createElement("div",{className:l?"":d.iconWithText},Y.createElement(p,{icon:i||"fallbackIcon",fixedWidth:!0})):null,F=N({[t??""]:!0,[d.baseButton]:!0,[d.iconOnlyButton]:l,[d.activeButton]:!!n});return Y.createElement(Oi,{className:F,onClick:s,title:r||o,disabled:a||!s},g,o&&!l&&Y.createElement("span",null,o),c&&Y.createElement("div",{className:d.iconDropdown},Y.createElement(p,{icon:i||"dropdown",fixedWidth:!0})))}),Ri=D(e=>({baseButton:{fontSize:u(e.toolbar.fontSize),textTransform:u("none"),letterSpacing:u(0),minWidth:u("auto"),lineHeight:e.toolbar.lineHeight,height:e.toolbar.size,paddingBottom:u(0),paddingTop:u(0)},iconWithText:{marginRight:8},iconOnlyButton:{width:e.toolbar.size,textAlign:"center"},iconDropdown:{fontSize:"0.7em",marginLeft:2,marginTop:1},activeButton:{color:u(e.colors.textActive)}})),rt=Y.memo(e=>{let{fileActionId:t}=e,o=R(q,t),r=tt(t),{icon:n,active:i,disabled:l}=ot(t),{buttonName:s,buttonTooltip:a}=$e(o);if(!o)return null;let{button:c}=o;return!c||o.customVisibility!==void 0&&o.customVisibility()===0?null:Y.createElement(ve,{text:s,tooltip:a,icon:n,iconOnly:c.iconOnly,active:i,onClick:r,disabled:l})});var xr=we.memo(({first:e,current:t,item:o})=>{let{file:r,disabled:n,onClick:i}=o,{dndIsOver:l,dndCanDrop:s,drop:a}=De({file:r,forceDisableDrop:!r||t}),c=Bi(()=>({dndIsOver:l,dndCanDrop:s,dndIsDragging:!1}),[s,l]);Qe(r,c);let d=ye(c),p=Hi(A),g=Gi(c),F=N({[g.baseBreadcrumb]:!0,[g.disabledBreadcrumb]:n,[g.currentBreadcrumb]:t}),S=r?r.name:"Loading...",h=e&&(r==null?void 0:r.folderChainIcon)===void 0?"folder":r==null?void 0:r.folderChainIcon;return we.createElement("div",{className:g.buttonContainer,ref:r?a:null},r&&d&&we.createElement("div",{className:g.dndIndicator},we.createElement(p,{icon:d,fixedWidth:!0})),we.createElement(ve,{icon:h,className:F,text:S,disabled:n,onClick:i}))}),Gi=v(e=>({buttonContainer:{position:"relative"},baseBreadcrumb:{color:t=>{let o=e.palette.text.primary;return t.dndIsOver&&(o=t.dndCanDrop?e.dnd.canDropColor:e.dnd.cannotDropColor),u(o)}},disabledBreadcrumb:{color:()=>u(e.palette.text.disabled)},currentBreadcrumb:{textDecoration:u("underline")},dndIndicator:{color:t=>t.dndCanDrop?e.dnd.canDropColor:e.dnd.cannotDropColor,backgroundColor:t=>t.dndCanDrop?e.dnd.canDropMask:e.dnd.cannotDropMask,lineHeight:`calc(${e.toolbar.lineHeight} - 6px)`,transform:"translateX(-50%) translateY(-50%)",borderRadius:e.toolbar.buttonRadius,height:e.toolbar.size-6,width:e.toolbar.size-6,boxSizing:"border-box",position:"absolute",textAlign:"center",left:"50%",top:"50%",zIndex:5}}));var Mt=ge.memo(()=>{let e=_i(),t=pr(),o=Vi(()=>{let r=[];for(let n=0;n<t.length;++n){let i=`folder-chain-${n}`,l=ge.createElement(xr,{key:i,first:n===0,current:n===t.length-1,item:t[n]});r.push(l)}return r},[t]);return ge.createElement(Dr,{className:e.navbarWrapper},ge.createElement(Dr,{className:e.navbarContainer},ge.createElement(rt,{fileActionId:f.OpenParentFolder.id}),ge.createElement(Ki,{className:e.navbarBreadcrumbs,classes:{separator:e.separator}},o)))}),_i=D(e=>({navbarWrapper:{paddingBottom:e.margins.rootLayoutMargin},navbarContainer:{display:"flex"},upDirectoryButton:{fontSize:u(e.toolbar.fontSize),height:e.toolbar.size,width:e.toolbar.size,padding:"0px !important"},navbarBreadcrumbs:{fontSize:u(e.toolbar.fontSize),flexGrow:100},separator:{marginRight:u(4),marginLeft:u(4)}}));import X,{useMemo as pl}from"react";import{useSelector as ml}from"react-redux";import Zi from"@material-ui/core/Menu";import ne,{useCallback as kr,useMemo as Qi}from"react";import Wi from"@material-ui/core/ListItemIcon";import $i from"@material-ui/core/ListItemText";import ji from"@material-ui/core/MenuItem";import re,{useCallback as Ui,useContext as qi}from"react";var Yi=re.forwardRef((e,t)=>{let{text:o,active:r,icon:n,onClick:i,disabled:l}=e,s=Xi(),a=qi(A),c=N({[s.baseButton]:!0,[s.activeButton]:r});return re.createElement(ji,{ref:t,className:c,onClick:i,disabled:l},n&&re.createElement(Wi,{className:s.icon},re.createElement(a,{icon:n,fixedWidth:!0})),re.createElement($i,{primaryTypographyProps:{className:s.text}},o))}),Xi=D(e=>({baseButton:{lineHeight:u(e.toolbar.lineHeight),height:u(e.toolbar.size),minHeight:u("auto"),minWidth:u("auto"),padding:u(20)},icon:{fontSize:u(e.toolbar.fontSize),minWidth:u("auto"),color:u("inherit"),marginRight:8},text:{fontSize:u(e.toolbar.fontSize)},activeButton:{color:u(e.colors.textActive)}})),Me=re.forwardRef((e,t)=>{let{fileActionId:o,onClickFollowUp:r}=e,n=R(q,o),i=tt(o),{icon:l,active:s,disabled:a}=ot(o),{buttonName:c}=$e(n),d=Ui(()=>{i(),r&&r()},[r,i]);if(!n)return null;let{button:p}=n;return!p||n.customVisibility!==void 0&&n.customVisibility()===0?null:re.createElement(Yi,{ref:t,text:c,icon:l,onClick:d,active:s,disabled:a})});var Ir=ne.memo(e=>{let{name:t,fileActionIds:o}=e,[r,n]=ne.useState(null),i=kr(d=>n(d.currentTarget),[n]),l=kr(()=>n(null),[n]),s=Qi(()=>o.map(d=>ne.createElement(Me,{key:`menu-item-${d}`,fileActionId:d,onClickFollowUp:l})),[o,l]),a=Wo(t),c=Ji();return ne.createElement(ne.Fragment,null,ne.createElement(ve,{text:a,onClick:i,dropdown:!0}),ne.createElement(Zi,{autoFocus:!0,keepMounted:!0,elevation:2,anchorEl:r,onClose:l,open:Boolean(r),transitionDuration:150,classes:{list:c.dropdownList}},s))}),Ji=D(()=>({dropdownList:{paddingBottom:u(0),paddingTop:u(0)}}));import be from"react";import{useIntl as el}from"react-intl";import{useSelector as Et}from"react-redux";import tl from"@material-ui/core/Typography";var Ar=be.memo(()=>{let e=ol(),t=Et(H.getDisplayFileIds),o=Et(ze),r=Et(oo),n=el(),i=n.formatMessage({id:K("toolbar","visibleFileCount"),defaultMessage:`{fileCount, plural,
                =0 {# items}
                one {# item}
                other {# items}
            }`},{fileCount:t.length}),l=n.formatMessage({id:K("toolbar","selectedFileCount"),defaultMessage:`{fileCount, plural,
                =0 {}
                other {# selected}
            }`},{fileCount:o}),s=n.formatMessage({id:K("toolbar","hiddenFileCount"),defaultMessage:`{fileCount, plural,
                =0 {}
                other {# hidden}
            }`},{fileCount:r});return be.createElement("div",{className:e.infoContainer},be.createElement(tl,{className:e.infoText,variant:"body1"},i,(l||s)&&be.createElement("span",{className:e.extraInfoSpan},"(",be.createElement("span",{className:e.selectionSizeText},l),l&&s&&", ",be.createElement("span",{className:e.hiddenCountText},s),")")))}),ol=D(e=>({infoContainer:{height:e.toolbar.size,display:"flex"},infoText:{lineHeight:u(e.toolbar.lineHeight),fontSize:u(e.toolbar.fontSize),marginLeft:u(12),height:e.toolbar.size},extraInfoSpan:{marginRight:u(8),marginLeft:u(8),opacity:.8},selectionSizeText:{color:e.colors.textActive},hiddenCountText:{}}));import nt,{useCallback as vr,useContext as rl,useEffect as wr,useRef as nl,useState as Mr}from"react";import{useIntl as il}from"react-intl";import{useDispatch as ll,useSelector as sl}from"react-redux";import al from"@material-ui/core/InputAdornment";import cl from"@material-ui/core/TextField";var Er=nt.memo(()=>{let t=il().formatMessage({id:K("toolbar","searchPlaceholder"),defaultMessage:"Search"}),o=dl(),r=rl(A),n=nl(),i=ll(),l=sl(no),[s,a]=Mr(l),[c]=Yt(s,300),[d,p]=Mr(!1);wr(()=>(i(y.setFocusSearchInput(()=>{n.current&&n.current.focus()})),()=>{i(y.setFocusSearchInput(null))}),[i]),wr(()=>{p(!1),i(y.setSearchString(c))},[c,i]);let g=vr(S=>{p(!0),a(S.currentTarget.value)},[]),F=vr(S=>{S.key==="Escape"&&(a(""),i(y.setSearchString("")),n.current&&n.current.blur())},[i]);return nt.createElement(cl,{className:o.searchFieldContainer,size:"small",variant:"outlined",value:s,placeholder:t,onChange:g,inputRef:n,InputProps:{onKeyUp:F,startAdornment:nt.createElement(al,{className:o.searchIcon,position:"start"},nt.createElement(r,{icon:d?"loading":"search",spin:d})),className:o.searchFieldInput},inputProps:{className:o.searchFieldInputInner}})}),dl=D(e=>({searchFieldContainer:{height:e.toolbar.size,width:150},searchIcon:{fontSize:"0.9em",opacity:.75},searchFieldInput:{lineHeight:u(0),padding:u(0),margin:u(0),fontSize:u(e.toolbar.fontSize),borderRadius:e.toolbar.buttonRadius,height:e.toolbar.size-4,paddingLeft:u(8),marginTop:2},searchFieldInputInner:{lineHeight:u(`${e.toolbar.size-4}px`),fontSize:u(e.toolbar.fontSize),height:u(e.toolbar.size-4),padding:u([0,8,0,0]),margin:u(0),"-webkit-appearance":"none"}}));var Tt=X.memo(()=>{let e=ul(),t=ml(Qt),o=pl(()=>{let r=[];for(let n=0;n<t.length;++n){let i=t[n],l=`toolbar-item-${typeof i=="string"?i:i.name}`,s=typeof i=="string"?X.createElement(rt,{key:l,fileActionId:i}):X.createElement(Ir,{key:l,name:i.name,fileActionIds:i.fileActionIds});r.push(s)}return r},[t]);return X.createElement("div",{className:e.toolbarWrapper},X.createElement("div",{className:e.toolbarContainer},X.createElement("div",{className:e.toolbarLeft},X.createElement(Er,null),X.createElement(Ar,null)),X.createElement("div",{className:e.toolbarRight},o)))}),ul=D(e=>({toolbarWrapper:{},toolbarContainer:{flexWrap:"wrap-reverse",display:"flex"},toolbarLeft:{paddingBottom:e.margins.rootLayoutMargin,flexWrap:"nowrap",flexGrow:1e4,display:"flex"},toolbarLeftFiller:{flexGrow:1e4},toolbarRight:{paddingBottom:e.margins.rootLayoutMargin,flexWrap:"nowrap",display:"flex"}}));import Z,{useCallback as Yl,useContext as Xl,useMemo as Zl}from"react";import{useSelector as Vt}from"react-redux";import Ql from"react-virtualized-auto-sizer";import Pt,{useContext as fl}from"react";import{useIntl as yl}from"react-intl";var Tr=e=>{let{width:t,height:o}=e,r=gl(),n=fl(A),i={width:t,height:o},s=yl().formatMessage({id:K("fileList","nothingToShow"),defaultMessage:"Nothing to show"});return Pt.createElement("div",{className:r.fileListEmpty,style:i},Pt.createElement("div",{className:r.fileListEmptyContent},Pt.createElement(n,{icon:"folderOpen"}),"\xA0 ",s))},gl=D(e=>({fileListEmpty:{color:e.palette.text.disabled,position:"relative",textAlign:"center",fontSize:"1.2em"},fileListEmptyContent:{transform:"translateX(-50%) translateY(-50%)",position:"absolute",left:"50%",top:"50%"}}));import st,{useCallback as Vr,useEffect as Bl,useMemo as Gt,useRef as _r,useState as Gl}from"react";import{useSelector as Kt}from"react-redux";import{VariableSizeGrid as Kl}from"react-window";import he,{useState as Ol}from"react";import{useSelector as zl}from"react-redux";import hl,{useCallback as Or}from"react";import{useCallback as Pr,useRef as bl}from"react";import{useSelector as Fl}from"react-redux";var Nr=(e,t)=>{let o=Fl(uo),r=bl({clickCount:0,clickTimeout:null});return Pr(n=>{let i={altKey:n.altKey,ctrlKey:n.ctrlKey||n.metaKey,shiftKey:n.shiftKey};r.current.clickCount++,r.current.clickCount===1?(e&&(n.preventDefault(),e(i)),r.current.clickCount=1,r.current.clickTimeout=setTimeout(()=>r.current.clickCount=0,o)):r.current.clickCount===2&&(t&&(n.preventDefault(),t(i)),typeof r.current.clickTimeout=="number"&&(clearTimeout(r.current.clickTimeout),r.current.clickTimeout=null,r.current.clickCount=0))},[o,e,t,r])},Lr=e=>Pr(t=>{if(!e)return;let o={enterKey:t.nativeEvent.code==="Enter",spaceKey:t.nativeEvent.code==="Space",altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey};(o.spaceKey||o.enterKey)&&(t.preventDefault(),t.stopPropagation(),e(o))},[e]);var Nt=e=>{let{children:t,wrapperTag:o,passthroughProps:r,onSingleClick:n,onDoubleClick:i,onKeyboardClick:l,setFocused:s}=e,a=Nr(n,i),c=Lr(l),d={onFocus:Or(()=>s&&s(!0),[s]),onBlur:Or(()=>s&&s(!1),[s])};(n||i||l)&&(d.onClick=a,d.onKeyDown=c,d.tabIndex=0);let p={...d,...r};return hl.createElement(o,{...p},t)};import O,{useContext as Cl}from"react";import Ee from"react";var ie=Ee.memo(({file:e,className:t})=>{var l;let o=hr(e),r=Sr(e),n=(l=e==null?void 0:e.tags)==null?void 0:l.split(",").filter(s=>Boolean(s)),i=Sl();return Ee.createElement("span",{className:t,title:e?e.name:void 0},o.length>0&&Ee.createElement("span",{className:i.modifierIcons},o),r,n!=null&&n.length?Ee.createElement("div",{className:"chonky-tags"},n==null?void 0:n.map((s,a)=>Ee.createElement("span",{className:"tags-"+a.toString()+"-"+s,key:a.toString()+s},s))):null)});ie.displayName="FileEntryName";var Sl=v(e=>({modifierIcons:{color:e.palette.text.hint,position:"relative",fontSize:"0.775em",paddingRight:5}}));var zr=O.memo(({file:e,selected:t,focused:o,dndState:r})=>{let n=fe(e,t,o),{fileModDateString:i,fileSizeString:l}=je(e),s=xl(n),a=Cl(A),c=ue(e);return O.createElement("div",{className:s.listFileEntry,...c},O.createElement("div",{className:s.listFileEntryIcon},O.createElement(a,{icon:n.icon,spin:n.iconSpin,fixedWidth:!0})),O.createElement("div",{className:s.listFileEntryDescription},O.createElement("div",{className:s.listFileEntryName,title:e?e.name:void 0},O.createElement(ie,{file:e})),O.createElement("div",{className:s.listFileEntryProperties},O.createElement("div",{className:s.listFileEntryProperty},e?i??O.createElement("span",null,"\u2014"):O.createElement(ee,{minLength:5,maxLength:15})),O.createElement("div",{className:s.listFileEntryProperty},e?l??O.createElement("span",null,"\u2014"):O.createElement(ee,{minLength:10,maxLength:20})))),O.createElement("div",{className:"chonky-file-entry-outline"}),O.createElement("div",{className:"chonky-file-entry-selection"}))}),xl=v(e=>({listFileEntry:{fontSize:e.listFileEntry.fontSize,alignItems:"center",position:"relative",display:"flex",height:"100%"},listFileEntryIcon:{backgroundColor:t=>t.color,boxShadow:"inset rgba(255, 255, 255, 0.5) 0 0 0 999px",borderRadius:e.listFileEntry.iconBorderRadius,fontSize:e.listFileEntry.iconFontSize,color:"#fff",padding:8},listFileSearch:{},listFileEntryDescription:{flexDirection:"column",display:"flex",flexGrow:1},listFileEntryName:{padding:[0,8,4,8]},listFileEntryProperties:{fontSize:e.listFileEntry.propertyFontSize,flexDirection:"row",display:"flex"},listFileEntryProperty:{padding:[0,8],opacity:.4}}));import Lt from"react";var Rr=Lt.memo(({file:e,children:t})=>{let{drop:o,drag:r,dndState:n}=gr(e);Qe(e,n);let i=Dl();return Lt.createElement("div",{ref:o,className:i.fillParent},Lt.createElement("div",{ref:b.isDraggable(e)?r:null,className:i.fillParent},t(n)))}),Dl=v(()=>({fillParent:{height:"100%"}}));import Fe from"react";import z,{useContext as wl}from"react";import kl from"classnames";import Hr from"react";var it=Hr.memo(e=>{let{className:t,thumbnailUrl:o}=e,r=o?{backgroundImage:`url('${o}')`}:{},n=Il();return Hr.createElement("div",{className:kl([t,n.fileThumbnail]),style:r})});it.displayName="FileThumbnail";var Il=D(()=>({fileThumbnail:{backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"contain"}}));import Ot,{useContext as Al}from"react";var zt=Ot.memo(e=>{let{className:t,dndState:o}=e,r=ye(o),n=vl(o),i=Al(A);if(!r)return null;let l=N({[n.dndIndicator]:!0,[t]:!0});return Ot.createElement("div",{className:l},Ot.createElement(i,{icon:r}))}),vl=v(e=>({dndIndicator:{color:t=>t.dndIsOver?t.dndCanDrop?e.dnd.canDropColor:e.dnd.cannotDropColor:"#000",boxSizing:"border-box",position:"absolute",fontSize:"1.2em",opacity:.6,padding:6,"&:before":{borderBottom:"50px solid transparent",borderLeft:"50px solid #fff",position:"absolute",content:'""',zIndex:-1,left:0,top:0}}}));var Rt=z.memo(e=>{let{className:t,entryState:o,dndState:r}=e,n=Ml(o),i=Br(o),l=lt(o),s=N({[n.previewFile]:!0,[t||""]:!!t});return z.createElement("div",{className:s},z.createElement("div",{className:n.folderBackSideMid},z.createElement("div",{className:n.folderBackSideTop}),z.createElement("div",{className:n.folderFrontSide},z.createElement(zt,{className:i.dndIndicator,dndState:r}),z.createElement("div",{className:N([i.fileIcon,n.fileIcon])},o.childrenCount),z.createElement("div",{className:l.selectionIndicator}),z.createElement(it,{className:i.thumbnail,thumbnailUrl:o.thumbnailUrl}))))});Rt.displayName="GridEntryPreviewFolder";var Ml=v(e=>({previewFile:{borderRadius:e.gridFileEntry.borderRadius,position:"relative",overflow:"hidden"},folderBackSideTop:{backgroundColor:t=>t.color,boxShadow:t=>{let o=e.gridFileEntry.folderBackColorTint;return t.focused?o="rgba(0, 0, 0, 0.3)":t.selected&&(o="rgba(0, 153, 255, .4)"),`inset ${o} 0 0 0 999px`},borderTopLeftRadius:e.gridFileEntry.borderRadius,borderTopRightRadius:10,position:"absolute",right:"60%",height:13,top:-10,left:0,"&:after":{borderRightColor:e.palette.background.paper,borderTopColor:e.palette.background.paper,borderBottomColor:"transparent",borderLeftColor:"transparent",borderWidth:[0,15,10,0],borderStyle:"solid",position:"absolute",display:"block",content:'""',right:0,top:0}},folderBackSideMid:{backgroundColor:t=>t.color,boxShadow:t=>{let o=e.gridFileEntry.folderBackColorTint;return t.focused?o="rgba(0, 0, 0, 0.3)":t.selected&&(o="rgba(0, 153, 255, .4)"),`inset ${o} 0 0 0 999px`},borderTopRightRadius:e.gridFileEntry.borderRadius,position:"absolute",bottom:0,right:0,left:0,top:10},folderFrontSide:{boxShadow:t=>{let o=[];return t.focused&&o.push("inset rgba(0, 0, 0, 1) 0 0 0 3px"),t.selected&&o.push("inset rgba(0, 153, 255, .65) 0 0 0 3px"),o.push(`inset ${e.gridFileEntry.folderFrontColorTint} 0 0 0 999px`),o.join(", ")},backgroundColor:t=>t.color,borderRadius:e.gridFileEntry.borderRadius,position:"absolute",overflow:"hidden",bottom:0,right:0,left:0,top:10},fileIcon:{fontSize:u(e.gridFileEntry.childrenCountSize)}})),Ht=z.memo(e=>{let{className:t,entryState:o,dndState:r}=e,n=Br(o),i=lt(o),l=wl(A),s=N({[n.previewFile]:!0,[t||""]:!!t});return z.createElement("div",{className:s},z.createElement(zt,{className:n.dndIndicator,dndState:r}),z.createElement("div",{className:n.fileIcon},z.createElement(l,{icon:o.icon,spin:o.iconSpin})),z.createElement("div",{className:i.selectionIndicator}),z.createElement(it,{className:n.thumbnail,thumbnailUrl:o.thumbnailUrl}))});Ht.displayName="GridEntryPreviewFile";var Br=v(e=>({previewFile:{boxShadow:t=>{let o=[];return t.selected&&o.push("inset rgba(0,153,255, .65) 0 0 0 3px"),t.focused&&o.push("inset rgba(0, 0, 0, 1) 0 0 0 3px"),o.push(`inset ${e.gridFileEntry.fileColorTint} 0 0 0 999px`),o.join(", ")},backgroundColor:t=>t.color,borderRadius:e.gridFileEntry.borderRadius,position:"relative",overflow:"hidden"},dndIndicator:{zIndex:14},fileIcon:{transform:"translateX(-50%) translateY(-50%)",fontSize:e.gridFileEntry.iconSize,opacity:t=>t.thumbnailUrl&&!t.focused?0:1,color:t=>t.focused?e.gridFileEntry.iconColorFocused:e.gridFileEntry.iconColor,position:"absolute",left:"50%",zIndex:12,top:"50%"},thumbnail:{borderRadius:e.gridFileEntry.borderRadius,position:"absolute",zIndex:6,bottom:5,right:5,left:5,top:5}})),lt=v(()=>({selectionIndicator:{display:e=>e.selected?"block":"none",background:"repeating-linear-gradient(45deg,rgba(0,153,255,.14),rgba(0,153,255,.14) 10px,rgba(0,153,255,.25) 0,rgba(0,153,255,.25) 20px)",backgroundColor:"rgba(0, 153, 255, .14)",position:"absolute",height:"100%",width:"100%",zIndex:10},focusIndicator:{display:e=>e.focused?"block":"none",boxShadow:"inset rgba(0, 0, 0, 1) 0 0 0 2px",position:"absolute",height:"100%",width:"100%",zIndex:11}}));var Bt=Fe.memo(({file:e,selected:t,focused:o,dndState:r})=>{let n=b.isDirectory(e),i=fe(e,t,o),l=El(i),s=ue(e),a=N({[l.gridFileEntry]:!0});return Fe.createElement("div",{className:a,...s},n?Fe.createElement(Rt,{className:l.gridFileEntryPreview,entryState:i,dndState:r}):Fe.createElement(Ht,{className:l.gridFileEntryPreview,entryState:i,dndState:r}),Fe.createElement("div",{className:l.gridFileEntryNameContainer},Fe.createElement(ie,{className:l.gridFileEntryName,file:e})))});Bt.displayName="GridEntry";var El=v(e=>({gridFileEntry:{flexDirection:"column",display:"flex",height:"100%"},gridFileEntryPreview:{flexGrow:1},gridFileEntryNameContainer:{fontSize:e.gridFileEntry.fontSize,wordBreak:"break-word",textAlign:"center",paddingTop:5},gridFileEntryName:{backgroundColor:t=>t.selected?"rgba(0,153,255, .25)":"transparent",textDecoration:t=>t.focused?"underline":"none",borderRadius:3,padding:[2,4]}}));import T,{useContext as Pl,useMemo as Nl}from"react";var Tl=e=>{let t=30;if(e){if(e.length<t)return e;let[o]=e.split(/\.(?=[^\.]+$)/);return o.slice(0,t)+"..."}else return""},Gr=Tl;var Kr=T.memo(({file:e,selected:t,focused:o,dndState:r,activeStar:n,deactivateStar:i,tags:l})=>{let s=fe(e,t,o),a=ye(r),{fileModDateString:c,fileSizeString:d}=je(e),p=Nl(()=>({entryState:s,dndState:r}),[r,s]),g=Ll(p),F=lt(s),S=Pl(A),h=ue(e);return T.createElement("div",{className:`${g.listFileEntry} ${e!=null&&e.isChecked?"is-checked":""}`,...h},T.createElement("div",{className:F.focusIndicator}),T.createElement("div",{className:N([F.selectionIndicator,g.listFileEntrySelection])}),T.createElement("div",{className:g.listFileEntryStar},e!=null&&e.isDir?null:T.createElement(T.Fragment,null,e!=null&&e.isStarred?n:i)),T.createElement("div",{className:g.listFileEntryIcon},T.createElement(S,{icon:a??s.icon,spin:a?!1:s.iconSpin,fixedWidth:!0,file:e})),T.createElement("div",{className:g.listFileEntryName,title:e?e.name:void 0},T.createElement(ie,{file:e,tags:l})),(e==null?void 0:e.isSearchResults)&&(e==null?void 0:e.folderPath)?T.createElement("div",{className:g.listFileSearch},Gr(e==null?void 0:e.folderPath),T.createElement("span",{className:"list-file-search-tooltip"},e==null?void 0:e.folderPath)):null,T.createElement("div",{className:g.listFileEntryProperty},e?c??T.createElement("span",null,"\u2014"):T.createElement(ee,{minLength:5,maxLength:15})),T.createElement("div",{className:g.listFileSizeProperty},e?d??T.createElement("span",null,"\u2014"):T.createElement(ee,{minLength:10,maxLength:20})),T.createElement("div",{className:g.listFileShared},e!=null&&e.isShared?"Shared":"Private"))}),Ll=v(e=>({listFileEntry:{boxShadow:`inset ${e.palette.divider} 0 -1px 0`,fontSize:e.listFileEntry.fontSize,color:({dndState:t})=>t.dndIsOver?t.dndCanDrop?e.dnd.canDropColor:e.dnd.cannotDropColor:"inherit",alignItems:"center",position:"relative",display:"flex",height:"100%"},listFileEntrySelection:{opacity:.6},listFileEntryStar:{},listFileShared:{},listFileEntryIcon:{color:({entryState:t,dndState:o})=>o.dndIsOver?o.dndCanDrop?e.dnd.canDropColor:e.dnd.cannotDropColor:t.color,fontSize:e.listFileEntry.iconFontSize,boxSizing:"border-box",padding:[2,4],zIndex:20},listFileSearch:{},listFileEntryName:{textOverflow:"ellipsis",boxSizing:"border-box",whiteSpace:"nowrap",overflow:"hidden",flex:"1 1 300px",paddingLeft:8,zIndex:20},listFileEntryProperty:{fontSize:e.listFileEntry.propertyFontSize,boxSizing:"border-box",whiteSpace:"nowrap",overflow:"hidden",flex:"0 1 150px",padding:[2,8],zIndex:20},listFileSizeProperty:{fontSize:e.listFileEntry.propertyFontSize,boxSizing:"border-box",whiteSpace:"nowrap",overflow:"hidden",flex:"0 1 150px",padding:[2,8],zIndex:20}}));var Rl={dndIsDragging:!1,dndIsOver:!1,dndCanDrop:!1},Te=he.memo(({fileId:e,displayIndex:t,fileViewMode:o,activeStar:r,deactivateStar:n,tags:i})=>{let l=Hl(),s=R(to,e),a=R(io,e),c=zl(He),d=Cr(s,t),[p,g]=Ol(!1),F={wrapperTag:"div",passthroughProps:{className:l.fileEntryClickableWrapper},...b.isClickable(s)?d:void 0,setFocused:g},S={file:s,selected:a,focused:p,activeStar:r,deactivateStar:n,tags:i},h;return o==="list"?h=Kr:o==="compact"?h=zr:h=Bt,c?he.createElement(Nt,{...F},he.createElement(h,{...S,dndState:Rl})):he.createElement(Rr,{file:s},I=>he.createElement(Nt,{...F},he.createElement(h,{...S,dndState:I})))});Te.displayName="SmartFileEntry";var Hl=D(()=>({fileEntryClickableWrapper:{outline:"none !important",position:"relative",height:"100%"}}));var Vl=()=>typeof window.orientation<"u"||navigator.userAgent.indexOf("IEMobile")!==-1,Wr=(e,t,o,r)=>{let n=r?5:8,i=Vl()?0:18,l,s;return r?(l=2,s=(e-n-i)/l):(s=o.entryWidth,l=Math.max(1,Math.floor((e-i)/(s+n)))),{rowCount:Math.ceil(t/l),columnCount:l,gutter:n,rowHeight:o.entryHeight,columnWidth:s}},$r=st.memo(e=>{let{width:t,height:o,fileListStyle:r={width:0,gridHeight:0}}=e,n=Kt(Q),i=Kt(H.getDisplayFileIds),l=Gt(()=>i.length,[i]),s=_r(),a=qe(),[c,d]=Gl(Wr(t,l,n,a)),p=_r(c);Bl(()=>{let C=p.current,w=Wr(t,l,n,a);p.current=w,s.current&&(C.rowCount!==w.rowCount&&s.current.resetAfterRowIndex(Math.min(C.rowCount,w.rowCount)-1),C.columnCount!==w.columnCount&&s.current.resetAfterColumnIndex(Math.min(C.columnCount,w.rowCount)-1),C.columnWidth!==w.columnWidth&&s.current.resetAfterIndices({columnIndex:0,rowIndex:0})),d(w)},[d,p,a,t,n,l]);let g=Gt(()=>{let C=p;return{getColumnWidth:w=>r.width?r.width:C.current.columnWidth+(w===C.current.columnCount-1?0:C.current.gutter),getRowHeight:w=>r.gridHeight?r.gridHeight:C.current.rowHeight+(w===C.current.rowCount-1?0:C.current.gutter)}},[p]),F=_(Kt(H.getDisplayFileIds)),S=Vr(C=>{let w=C.rowIndex*p.current.columnCount+C.columnIndex;return F.current[w]??`loading-file-${w}`},[p,F]),h=Vr(C=>{let w=p,dt=C.rowIndex*w.current.columnCount+C.columnIndex,rn=i[dt];if(i[dt]===void 0)return null;let nn={...C.style,paddingRight:C.columnIndex===w.current.columnCount-1?0:w.current.gutter,paddingBottom:C.rowIndex===w.current.rowCount-1?0:w.current.gutter,boxSizing:"border-box"};return st.createElement("div",{style:nn},st.createElement(Te,{fileId:rn??null,displayIndex:dt,fileViewMode:n.mode}))},[i,n.mode]),I=_l();return Gt(()=>st.createElement(Kl,{ref:s,className:I.gridContainer,estimatedRowHeight:c.rowHeight+c.gutter,rowHeight:g.getRowHeight,estimatedColumnWidth:c.columnWidth+c.gutter,columnWidth:g.getColumnWidth,columnCount:c.columnCount,height:o,rowCount:c.rowCount,width:t,itemKey:S},h),[I.gridContainer,c.rowHeight,c.gutter,c.columnWidth,c.columnCount,c.rowCount,g.getRowHeight,g.getColumnWidth,o,t,S,h])}),_l=D(()=>({gridContainer:{}}));import at,{useCallback as Wl,useMemo as $l,useRef as jl}from"react";import{useSelector as jr}from"react-redux";import{FixedSizeList as Ul}from"react-window";var Ur=at.memo(e=>{let{width:t,height:o,fileListStyle:r={height:0},activeStar:n,deactivateStar:i,tags:l}=e,s=jr(Q),a=jl(),c=jr(H.getDisplayFileIds),d=_(c),p=Wl(S=>d.current[S]??`loading-file-${S}`,[d]),g=ql();return $l(()=>{let S=h=>at.createElement("div",{style:{...h.style}},at.createElement(Te,{fileId:c[h.index]??null,displayIndex:h.index,fileViewMode:"list",activeStar:n,deactivateStar:i,tags:l}));return at.createElement(Ul,{ref:a,className:g.listContainer,itemSize:r.height||s.entryHeight,height:o,itemCount:c.length,width:t,itemKey:p},S)},[g.listContainer,s.entryHeight,o,c,t,p])}),ql=v(e=>({listContainer:{borderTop:`solid 1px ${e.palette.divider}`}}));var ct=Z.memo(e=>{let t=Vt(H.getDisplayFileIds),o=Vt(Q),r=Vt(xe),{drop:n,dndCanDrop:i,dndIsOverCurrent:l}=De({file:r}),s=Zl(()=>({dndCanDrop:i,dndIsOverCurrent:l}),[i,l]),a=Jl(s),c=es(o),{onScroll:d,fileListStyle:p,activeStar:g,deactivateStar:F,tags:S}=e,h=!0,I=Yl(({width:C,height:w})=>t.length===0?Z.createElement(Tr,{width:C,height:o.entryHeight}):o.mode==="list"?Z.createElement(Ur,{width:C,height:w,fileListStyle:p,activeStar:g,deactivateStar:F,tags:S}):Z.createElement($r,{width:C,height:w,fileListStyle:p}),[t,o]),E=Xl(A);return Z.createElement("div",{onScroll:d,ref:n,className:N([c.fileListWrapper,a.fileListWrapper]),role:"list"},Z.createElement("div",{className:a.dndDropZone},Z.createElement("div",{className:a.dndDropZoneIcon},Z.createElement(E,{icon:i?"dndCanDrop":"dndCannotDrop"}))),Z.createElement(Ql,{disableHeight:!h},I))});ct.displayName="FileList";var Jl=v(e=>({fileListWrapper:{minHeight:f.EnableGridView.fileViewConfig.entryHeight+2,background:t=>t.dndIsOverCurrent&&t.dndCanDrop?t.dndCanDrop?kt(e.dnd.fileListCanDropMaskOne,e.dnd.fileListCanDropMaskTwo):kt(e.dnd.fileListCannotDropMaskOne,e.dnd.fileListCannotDropMaskTwo):"none"},dndDropZone:{display:t=>t.dndIsOverCurrent&&t.dndCanDrop?"block":"none",borderRadius:e.gridFileEntry.borderRadius,pointerEvents:"none",position:"absolute",height:"100%",width:"100%",zIndex:2},dndDropZoneIcon:{backgroundColor:t=>t.dndCanDrop?e.dnd.canDropMask:e.dnd.cannotDropMask,color:t=>t.dndCanDrop?e.dnd.canDropColor:e.dnd.cannotDropColor,borderRadius:e.gridFileEntry.borderRadius,transform:"translateX(-50%) translateY(-50%)",position:"absolute",textAlign:"center",lineHeight:"60px",fontSize:"2em",left:"50%",height:60,top:"50%",width:60}})),es=D(()=>({fileListWrapper:{height:"100%",maxHeight:"100%"}}));import Se,{useEffect as ts,useMemo as qr}from"react";import{useIntl as os}from"react-intl";import{useDispatch as rs,useSelector as Yr}from"react-redux";import ns from"@material-ui/core/ListSubheader";import is from"@material-ui/core/Menu";var _t=Se.memo(()=>{let e=rs();ts(()=>(e(y.setContextMenuMounted(!0)),()=>{e(y.setContextMenuMounted(!1))}),[e]);let o=os().formatMessage({id:K("contextMenu","browserMenuShortcut"),defaultMessage:"Browser menu: {shortcut}"},{shortcut:Se.createElement("strong",null,"Alt + Right Click")}),r=Yr(yt),n=Yr(Jt),i=ir(),l=qr(()=>{let c=[];for(let d=0;d<n.length;++d){let p=n[d];typeof p=="string"?c.push(Se.createElement(Me,{key:`context-menu-item-${p}`,fileActionId:p,onClickFollowUp:i})):p.fileActionIds.map(g=>c.push(Se.createElement(Me,{key:`context-menu-item-${p.name}-${g}`,fileActionId:g,onClickFollowUp:i})))}return c},[n,i]),s=qr(()=>r?{top:r.mouseY,left:r.mouseX}:void 0,[r]),a=ls();return Se.createElement(is,{elevation:2,disablePortal:!0,onClose:i,transitionDuration:150,open:!!r,anchorPosition:s,anchorReference:"anchorPosition",classes:{list:a.contextMenuList}},l,Se.createElement(ns,{component:"div",className:a.browserMenuTooltip},o))}),ls=D(()=>({contextMenuList:{paddingBottom:u(0),paddingTop:u(0)},browserMenuTooltip:{lineHeight:u("30px"),fontSize:u("0.7em")}}));import G from"react";var Xr=G.memo(G.forwardRef((e,t)=>{let{onScroll:o,fileListStyle:r,activeStar:n=G.createElement(G.Fragment,null),deactivateStar:i=G.createElement(G.Fragment,null),tags:l=G.createElement(G.Fragment,null)}=e;return G.createElement(Ze,{ref:t,...e},G.createElement(Mt,null),G.createElement(Tt,null),G.createElement(ct,{onScroll:o,fileListStyle:r,activeStar:n,deactivateStar:i,tags:l}),G.createElement(_t,null))}));Xr.displayName="FullFileBrowser";var on={};sn(on,{useFileActionHandler:()=>tn,useFileMap:()=>ss,useFileMapMethods:()=>en,useFiles:()=>Jr,useFolderChain:()=>Qr});import{useCallback as Wt,useMemo as $t,useState as Zr}from"react";var Qr=(e,t)=>$t(()=>{let o=e[t],r=[o],n=o.parentId;for(;n;){let i=e[n];if(i)r.unshift(i),n=i.parentId;else break}return r},[t,e]),Jr=(e,t)=>$t(()=>e[t].childrenIds.map(i=>e[i]),[t,e]),en=(e,t)=>{let[o,r]=Zr(e),[n,i]=Zr(t),l=Wt(()=>{r(e),i(t)},[e,t]),s=Wt((c,d,p)=>r(g=>{let F={...g},S=new Set(c.map(E=>E.id)),h=d.childrenIds.filter(E=>!S.has(E));F[d.id]={...d,childrenIds:h,childrenCount:h.length};let I=[...p.childrenIds,...c.map(E=>E.id)];return F[p.id]={...p,childrenIds:I,childrenCount:I.length},c.forEach(E=>{F[E.id]={...E,parentId:p.id}}),F}),[]),a=$t(()=>({setFileMap:r,setCurrentFolderId:i,resetFileMap:l,moveFiles:s}),[r,i,l,s]);return{fileMap:o,currentFolderId:n,methods:a}},tn=e=>Wt(t=>{if(t.id===f.OpenFiles.id){let{targetFile:o,files:r}=t.payload,n=o??r[0];n&&b.isDirectory(n)&&e.setCurrentFolderId(n.id)}else t.id===f.MoveFiles.id&&e.moveFiles(t.payload.files,t.payload.source,t.payload.destination)},[e]),ss=({baseFileMap:e,initialFolderId:t})=>{let{fileMap:o,currentFolderId:r,methods:n}=en(e,t),i=Qr(o,r),l=Jr(o,r),s=tn(n);return{data:{fileMap:o,currentFolderId:r,folderChain:i,files:l},methods:n,fileActionHandler:s}};export{f as ChonkyActions,te as ChonkyDndFileEntryType,B as ChonkyIconName,Ae as CustomVisibilityState,Ve as DefaultFileActions,Ze as FileBrowser,_t as FileContextMenu,b as FileHelper,ct as FileList,Mt as FileNavbar,Tt as FileToolbar,ae as FileViewMode,Xr as FullFileBrowser,me as I18nNamespace,j as OptionIds,Ue as defaultFormatters,x as defineFileAction,on as fileMap,ht as getActionI18nId,wo as getFileData,K as getI18nId,Ke as getIsFileSelected,yn as getSelectedFiles,gn as getSelectedFilesForAction,y as reduxActions,Bo as rootReducer,eo as selectCleanFileIds,fo as selectClearSelectionOnOutsideClick,yt as selectContextMenuConfig,Jt as selectContextMenuItems,yo as selectContextMenuMounted,go as selectContextMenuTriggerFile,xe as selectCurrentFolder,so as selectDisableSelection,uo as selectDoubleClickDelay,Xt as selectExternalFileActionHandler,q as selectFileActionData,Zt as selectFileActionIds,Le as selectFileActionMap,to as selectFileData,se as selectFileMap,Q as selectFileViewConfig,ro as selectFocusSearchInput,le as selectFolderChain,oo as selectHiddenFileCount,ut as selectHiddenFileIdMap,Ne as selectInstanceId,He as selectIsDnDDisabled,io as selectIsFileSelected,mn as selectOptionMap,po as selectOptionValue,Oe as selectParentFolder,As as selectRawFiles,no as selectSearchString,ft as selectSelectedFileIds,Re as selectSelectedFiles,pn as selectSelectedFilesForAction,lo as selectSelectedFilesForActionCount,W as selectSelectionMap,ze as selectSelectionSize,ao as selectSortActionId,co as selectSortOrder,mo as selectThumbnailGenerator,Qt as selectToolbarItems,H as selectors,vn as setChonkyDefaults,Lo as thunkDispatchFileAction,k as thunkRequestFileAction,_o as useChonkyStore,$ as useDTE,R as useParamSelector,Ft as usePropReduxUpdate};
/**
 * @author Timur Kuzhagaliyev <tim.kuzh@gmail.com>
 * @copyright 2019
 * @license MIT
 */
/**
 * @author Timur Kuzhagaliyev <tim.kuzh@gmail.com>
 * @copyright 2020
 * @license MIT
 */
//# sourceMappingURL=index.esm.js.map